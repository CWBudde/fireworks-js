!function(t,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var s=i();for(var e in s)("object"==typeof exports?exports:t)[e]=s[e]}}(this,(function(){return function(t){var i={};function s(e){if(i[e])return i[e].exports;var h=i[e]={i:e,l:!1,exports:{}};return t[e].call(h.exports,h,h.exports,s),h.l=!0,h.exports}return s.m=t,s.c=i,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)s.d(e,h,function(i){return t[i]}.bind(null,h));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=0)}([function(t,i,s){"use strict";function e(t,i){return Math.random()*(i-t)+t}function h(t,i){return Math.floor(t+Math.random()*(i+1-t))}s.r(i),s.d(i,"Fireworks",(function(){return _}));class n{constructor(t,i,s,e,n,o,a,r,_){for(this._currentDistance=0,this._coordinates=[],this._x=t,this._y=i,this._sx=t,this._sy=i,this._dx=s,this._dy=e,this._ctx=n,this._hue=o,this._speed=a,this._acceleration=r,this._traceLength=_,this._totalDistance=this.getDistance(this._sx,this._sy,this._dx,this._dy);this._traceLength--;)this._coordinates.push([t,i]);this._angle=Math.atan2(this._dy-this._sy,this._dx-this._sx),this._brightness=h(50,70)}update(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._acceleration;var i=Math.cos(this._angle)*this._speed,s=Math.sin(this._angle)*this._speed;this._currentDistance=this.getDistance(this._sx,this._sy,this._x+i,this._y+s),this._currentDistance>=this._totalDistance?t(this._dx,this._dy,this._hue):(this._x+=i,this._y+=s)}draw(){var t=this._coordinates.length-1;this._ctx.beginPath(),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle="hsl(".concat(this._hue,", 100%, ").concat(this._brightness,"%)"),this._ctx.stroke()}getDistance(t,i,s,e){var h=Math.pow;return Math.sqrt(h(t-s,2)+h(i-e,2))}}class o{constructor(t,i,s,n,o,a,r){for(this._coordinates=[],this._alpha=1,this._x=t,this._y=i,this._ctx=s,this._hue=n,this._friction=o,this._gravity=a,this._explosionLength=r;this._explosionLength--;)this._coordinates.push([t,i]);this._angle=e(0,2*Math.PI),this._speed=h(1,10),this._hue=h(this._hue-20,this._hue+20),this._brightness=h(50,80),this._decay=e(.015,.03)}update(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._friction,this._x+=Math.cos(this._angle)*this._speed,this._y+=Math.sin(this._angle)*this._speed+this._gravity,this._alpha-=this._decay,this._alpha<=this._decay&&t()}draw(){var t=this._coordinates.length-1;this._ctx.beginPath(),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle="hsla(".concat(this._hue,", 100%, ").concat(this._brightness,"%, ").concat(this._alpha,")"),this._ctx.stroke()}}var a=function(t,i,s,e){return new(s||(s=Promise))((function(h,n){function o(t){try{r(e.next(t))}catch(t){n(t)}}function a(t){try{r(e.throw(t))}catch(t){n(t)}}function r(t){var i;t.done?h(t.value):(i=t.value,i instanceof s?i:new s((function(t){t(i)}))).then(o,a)}r((e=e.apply(t,i||[])).next())}))};class r{constructor(t){this._buffer=[],this._audioContext=new AudioContext,this.options=Object.assign({enable:!1,files:["explosion0.mp3","explosion1.mp3","explosion2.mp3"],volume:{min:4,max:8}},t),this.options.enable&&this.load()}load(){return a(this,void 0,void 0,(function*(){for(var t of this.options.files){var i=yield(yield fetch(t)).arrayBuffer();this._audioContext.decodeAudioData(i,t=>{this._buffer.push(t)})}}))}play(){return a(this,void 0,void 0,(function*(){if(this.options.enable)if(this._buffer.length){var t=this._audioContext.createBufferSource(),i=this._buffer[h(0,this._buffer.length-1)],s=this._audioContext.createGain();t.buffer=i,s.gain.value=e(this.options.volume.min/100,this.options.volume.max/100),s.connect(this._audioContext.destination),t.connect(s),t.start(0)}else yield this.load()}))}}class _{constructor(t,i){var{hue:s,speed:e,acceleration:h,friction:n,gravity:o,particles:a,trace:_,explosion:c,autoresize:u,mouse:d,boundaries:l,sound:p,delay:f}=i;this._tick=0,this._version="1.1.1",this._running=!1,this._m=!1,this._container=t,this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._container.appendChild(this._canvas),this._sound=new r(p),this.updateSize(),this.updateBoundaries(l||{top:50,bottom:0,left:50,right:0}),this._hue=s||{min:0,max:360},this._speed=e||2,this._acceleration=h||1.05,this._friction=n||.95,this._gravity=o||1.5,this._particleCount=a||50,this._traceLength=_||3,this._explosionLength=c||5,this._autoresize=null==u||u,this._mouse=Object.assign({click:!1,move:!1,max:5},d),this._delay=Object.assign({min:15,max:30},f),this._autoresize&&window.addEventListener("resize",()=>{this.updateSize()}),this._canvas.addEventListener("mousedown",t=>this.useMouse(t,this._mouse.click)),this._canvas.addEventListener("mouseup",t=>this.useMouse(t,!1)),this._canvas.addEventListener("mousemove",t=>this.useMouse(t,this._m))}get isRunning(){return this._running}get version(){return this._version}start(){this._running||(this._running=!0,this.clear(),this.render())}stop(){this._running=!1,this.clear()}pause(){this._running=!this._running,this._running&&this.render()}clear(){this._ctx&&(this._traces=[],this._explosions=[],this._ctx.clearRect(0,0,this._width,this._height))}updateSize(){var{width:t=this._container.clientWidth,height:i=this._container.clientHeight}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._width=t,this._height=i,this._canvas.width=t,this._canvas.height=i,this.updateBoundaries({right:t,bottom:i})}updateBoundaries(t){this._boundaries=Object.assign(Object.assign({},this._boundaries),t)}useMouse(t,i){(this._mouse.click||this._mouse.move)&&(this._mx=t.pageX-this._canvas.offsetLeft,this._my=t.pageY-this._canvas.offsetTop,this._m=i)}render(){this._ctx&&this._running&&(requestAnimationFrame(()=>this.render()),this._ctx.globalCompositeOperation="destination-out",this._ctx.fillStyle="rgba(0, 0, 0, 0.5)",this._ctx.fillRect(0,0,this._width,this._height),this._ctx.globalCompositeOperation="lighter",this.initTrace(),this.drawTrace(),this.drawExplosion(),this._tick++)}initTrace(){this._ds=h(this._delay.min,this._delay.max),(2*this._ds<this._tick||this._m&&this._mouse.max>this._traces.length)&&(this._traces.push(new n(.5*this._width,this._height,this._m||this._mouse.move?this._mx:h(this._boundaries.left,this._boundaries.right-50),this._m||this._mouse.move?this._my:h(this._boundaries.top,.5*this._boundaries.bottom),this._ctx,h(this._hue.min,this._hue.max),this._speed,this._acceleration,this._traceLength)),this._tick=0)}drawTrace(){for(var t=this._traces.length;t--;)this._traces[t].draw(),this._traces[t].update((i,s,e)=>{this.initExplosion(i,s,e),this._sound.play(),this._traces.splice(t,1)})}initExplosion(t,i,s){for(var e=this._particleCount;e--;)this._explosions.push(new o(t,i,this._ctx,s,this._friction,this._gravity,this._explosionLength))}drawExplosion(){for(var t=this._explosions.length;t--;)this._explosions[t].draw(),this._explosions[t].update(()=>{this._explosions.splice(t,1)})}}}])}));