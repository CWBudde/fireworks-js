!function(t,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var e=i();for(var s in e)("object"==typeof exports?exports:t)[s]=e[s]}}(this,(function(){return function(t){var i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(s,n,function(i){return t[i]}.bind(null,n));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i),e.d(i,"Fireworks",(function(){return l}));var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)};function n(t,i,e,s){var n=Math.pow;return Math.sqrt(n(t-e,2)+n(i-s,2))}function h(t,i){return Math.random()*(i-t)+t}function r(t,i){return Math.floor(t+Math.random()*(i+1-t))}function a(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var o=function(){function t(i,e,s,h,a,o,_,c){for(!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._totalDistance=0,this._currentDistance=0,this._coordinates=[],this._coordinateCount=3,this._angle=0,this._brightness=0,this._x=i,this._y=e,this._sx=i,this._sy=e,this._dx=s,this._dy=h,this._ctx=a,this._hue=o,this._speed=_,this._acceleration=c,this._totalDistance=n(this._sx,this._sy,this._dx,this._dy);this._coordinateCount--;)this._coordinates.push([i,e]);this._angle=Math.atan2(this._dy-this._sy,this._dx-this._sx),this._brightness=r(50,70)}var i,e,s;return i=t,(e=[{key:"update",value:function(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._acceleration;var i=Math.cos(this._angle)*this._speed,e=Math.sin(this._angle)*this._speed;this._currentDistance=n(this._sx,this._sy,this._x+i,this._y+e),this._currentDistance>=this._totalDistance?t(this._dx,this._dy,this._hue):(this._x+=i,this._y+=e)}},{key:"draw",value:function(){var t=this._coordinates.length-1;this._ctx.beginPath(),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle="hsl("+this._hue+", 100%, "+this._brightness+"%)",this._ctx.stroke()}}])&&a(i.prototype,e),s&&a(i,s),t}();function _(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var c=function(){function t(i,e,s,n,a,o){for(!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._coordinates=[],this._coordinateCount=5,this._angle=0,this._speed=0,this._brightness=0,this._alpha=1,this._decay=0,this._x=i,this._y=e,this._ctx=s,this._hue=n,this._friction=a,this._gravity=o;this._coordinateCount--;)this._coordinates.push([i,e]);this._angle=h(0,2*Math.PI),this._speed=r(1,10),this._hue=r(this._hue-20,this._hue+20),this._brightness=r(50,80),this._decay=h(.015,.03)}var i,e,s;return i=t,(e=[{key:"update",value:function(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._friction,this._x+=Math.cos(this._angle)*this._speed,this._y+=Math.sin(this._angle)*this._speed+this._gravity,this._alpha-=this._decay,this._alpha<=this._decay&&t()}},{key:"draw",value:function(){if(this._ctx){var t=this._coordinates.length-1;this._ctx.beginPath(),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle="hsla("+this._hue+", 100%, "+this._brightness+"%, "+this._alpha+")",this._ctx.stroke()}}}])&&_(i.prototype,e),s&&_(i,s),t}();function u(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var l=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._fps=0,this._tick=0,this._running=!1,this._decimalPlaces=2,this._updateEachSecond=1,this._decimalPlacesRatio=Math.pow(10,this._decimalPlaces),this._timeMeasurements=[],this._fireworks=[],this._particles=[],this._canvas=this.getCanvasElement(i.id),this._width=this._canvas.width,this._height=this._canvas.height,this._ctx=this._canvas.getContext?this._canvas.getContext("2d"):null,this._hue=i.hue||120,this._delay=i.delay||30,this._minDelay=i.minDelay||30,this._maxDelay=i.maxDelay||90,this._boundaries=i.boundaries||{top:50,bottom:.5*this._height,left:50,right:this._width-50},this._speed=i.fireworkSpeed||2,this._acceleration=i.fireworkAcceleration||1.05,this._particleCount=i.particleCount||50,this._friction=i.particleFriction||.95,this._gravity=i.particleGravity||1.5,this._debug=i.debug||!1}var i,e,n;return i=t,(e=[{key:"start",value:function(){this._running||(this._running=!0,this.clear(),this.render())}},{key:"stop",value:function(){this._running=!1,this.clear()}},{key:"pause",value:function(){this._running=!this._running,this._running&&this.render()}},{key:"clear",value:function(){this._ctx&&(this._fireworks=[],this._particles=[],this._ctx.clearRect(0,0,this._width,this._height))}},{key:"showFPS",value:function(){if(this._ctx){this._timeMeasurements.push(performance.now());var t=this._timeMeasurements[this._timeMeasurements.length-1]-this._timeMeasurements[0];t>=1e3*this._updateEachSecond&&(this._fps=Math.round(this._timeMeasurements.length/t*1e3*this._decimalPlacesRatio)/this._decimalPlacesRatio,this._timeMeasurements=[]),this._ctx.fillStyle="#FFF",this._ctx.font="bold 14pt monospace",this._ctx.fillText(Math.round(this._fps)+" fps",10,26)}}},{key:"render",value:function(){var t=this;if(this._ctx&&this._running){var i;for(s((function(){t.render(),t._debug&&t.showFPS()})),this._hue+=.5,this._ctx.globalCompositeOperation="destination-out",this._ctx.fillStyle="rgba(0, 0, 0, 0.5)",this._ctx.fillRect(0,0,this._width,this._height),this._ctx.globalCompositeOperation="lighter",i=this._fireworks.length;i--;)this._fireworks[i].draw(),this._fireworks[i].update((function(e,s,n){var a,o,_,u=t._particleCount;for(a=r(0,2),o=new Audio("explosion".concat(a,".mp3")),_=h(.5,.8),o.volume=_,o.play();u--;)t._particles.push(new c(e,s,t._ctx,n,t._friction,t._gravity));t._fireworks.splice(i,1)}));for(i=this._particles.length;i--;)this._particles[i].draw(),this._particles[i].update((function(){t._particles.splice(i,1)}));this._tick===this._delay&&(this._fireworks.push(new o(.5*this._width,this._height,r(this._boundaries.left,this._boundaries.right),r(this._boundaries.top,this._boundaries.bottom),this._ctx,this._hue,this._speed,this._acceleration)),this._delay=r(this._minDelay,this._maxDelay),this._tick=0),this._tick++}}},{key:"getCanvasElement",value:function(t){var i=document.getElementById(t||"fireworks-js");if(null!==i)return i;throw new Error("Target canvas element #".concat(t," is not found!"))}},{key:"isRunning",get:function(){return this._running}}])&&u(i.prototype,e),n&&u(i,n),t}()}])}));