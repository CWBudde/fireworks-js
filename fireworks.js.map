{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/utils/index.ts","webpack:///./src/fireworks.ts","webpack:///./src/trace.ts","webpack:///./src/utils/randomFloat.ts","webpack:///./src/utils/randomInteger.ts","webpack:///./src/sound.ts","webpack:///./src/explosion.ts"],"names":["root","factory","exports","module","define","amd","a","i","this","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","randomFloat","randomInteger","Fireworks","container","opts","_tick","_version","_running","_m","_container","_canvas","document","createElement","_ctx","getContext","appendChild","_sound","Sound","sound","updateSize","updateBoundaries","boundaries","top","bottom","left","right","_hue","hue","min","max","_speed","speed","_acceleration","acceleration","_friction","friction","_gravity","gravity","_particleCount","particles","_traceLength","trace","_explosionLength","explosion","_autoresize","autoresize","_mouse","click","move","mouse","_delay","delay","window","addEventListener","e","useMouse","clear","render","_traces","_explosions","clearRect","_width","_height","width","clientWidth","height","clientHeight","_boundaries","event","is","_mx","pageX","offsetLeft","_my","pageY","offsetTop","requestAnimationFrame","globalCompositeOperation","fillStyle","fillRect","initTrace","drawTrace","drawExplosion","_ds","length","push","Trace","draw","update","x","y","initExplosion","play","splice","count","Explosion","x1","y1","x2","y2","ctx","_currentDistance","_coordinates","_x","_y","_sx","_sy","_dx","_dy","_totalDistance","getDistance","_angle","Math","atan2","_brightness","callback","pop","unshift","vx","cos","vy","sin","last","beginPath","moveTo","lineTo","strokeStyle","stroke","pow","sqrt","random","floor","options","_buffer","_audioContext","AudioContext","enable","files","volume","load","file","response","fetch","arrayBuffer","decodeAudioData","buffer","source","createBufferSource","createGain","gain","connect","destination","start","_alpha","PI","_decay"],"mappings":"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","file":"fireworks.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export { randomFloat } from './randomFloat'\nexport { randomInteger } from './randomInteger'","import { Trace } from './trace'\nimport { Sound } from './sound'\nimport { Explosion } from './explosion'\nimport { randomInteger } from './utils'\n\ntype HTMLContainer = Element | HTMLElement\n\ninterface FireworksOptions {\n  hue?: MinMaxOptions\n  speed?: number\n  acceleration?: number\n  friction?: number\n  gravity?: number\n  particles?: number\n  trace?: number\n  explosion?: number\n  autoresize?: boolean\n  mouse?: MouseOptions\n  boundaries?: BoundariesOptions\n  sound?: SoundOptions\n  delay?: MinMaxOptions\n}\n\ninterface MouseOptions {\n  click: boolean\n  move: boolean\n  max: number\n}\n\ninterface BoundariesOptions {\n  top: number\n  bottom: number\n  left: number\n  right: number\n}\n\ninterface SoundOptions {\n  enable: boolean\n  files?: string[]\n  volume?: {\n    min: number\n    max: number\n  }\n}\n\ninterface MinMaxOptions {\n  min: number\n  max: number\n}\n\ninterface Sizes {\n  width?: number\n  height?: number\n}\n\ndeclare const version: string\n\nclass Fireworks {\n  private _container: HTMLContainer\n  private _canvas: HTMLCanvasElement\n  private _ctx: CanvasRenderingContext2D\n  private _width: number\n  private _height: number\n\n  private _hue: MinMaxOptions\n  private _speed: number\n  private _acceleration: number\n  private _friction: number\n  private _gravity: number\n  private _particleCount: number\n  private _traceLength: number\n  private _explosionLength: number\n  private _autoresize: boolean\n  private _boundaries: BoundariesOptions\n  private _mouse: MouseOptions\n  private _delay: MinMaxOptions\n\n  private _tick = 0\n  private _version = version\n  private _running = false\n  private _m = false\n  private _mx: number\n  private _my: number\n  private _ds: number\n\n  private _sound: Sound\n  private _traces: Trace[]\n  private _explosions: Explosion[]\n\n  constructor(container: HTMLContainer, opts?: FireworksOptions) {\n    this._container = container\n    this._canvas = document.createElement('canvas')\n    this._ctx = this._canvas.getContext('2d') as CanvasRenderingContext2D\n    this._container.appendChild(this._canvas)\n    this._sound = new Sound(opts?.sound)\n\n    this.updateSize()\n    this.updateBoundaries(opts?.boundaries || {\n      top: 50,\n      bottom: 0,\n      left: 50,\n      right: 0\n    })\n\n    this._hue = opts?.hue || { min: 0, max: 360 }\n    this._speed = opts?.speed || 2\n    this._acceleration = opts?.acceleration || 1.05\n    this._friction = opts?.friction || 0.95\n    this._gravity = opts?.gravity || 1.5\n    this._particleCount = opts?.particles || 50\n    this._traceLength = opts?.trace || 3\n    this._explosionLength = opts?.explosion || 5\n    this._autoresize = opts?.autoresize ?? true\n\n    this._mouse = {\n      click: false,\n      move: false,\n      max: 5,\n      ...opts?.mouse\n    }\n\n    this._delay = {\n      min: 15,\n      max: 30,\n      ...opts?.delay\n    }\n\n    if (this._autoresize) {\n      window.addEventListener('resize', () => {\n        this.updateSize()\n      })\n    }\n\n    this._canvas.addEventListener('mousedown', (e) => this.useMouse(e, this._mouse.click))\n    this._canvas.addEventListener('mouseup', (e) => this.useMouse(e, false))\n    this._canvas.addEventListener('mousemove', (e) => this.useMouse(e, this._m))\n  }\n\n  get isRunning(): boolean {\n    return this._running\n  }\n\n  get version(): string {\n    return this._version\n  }\n\n  start(): void {\n    if (this._running) return\n\n    this._running = true\n    this.clear()\n    this.render()\n  }\n\n  stop(): void {\n    this._running = false\n    this.clear()\n  }\n\n  pause(): void {\n    this._running = !this._running\n\n    if (this._running) {\n      this.render()\n    }\n  }\n\n  clear(): void {\n    if (!this._ctx) return\n\n    this._traces = []\n    this._explosions = []\n    this._ctx.clearRect(0, 0, this._width, this._height)\n  }\n\n  updateSize({\n    width = this._container.clientWidth,\n    height = this._container.clientHeight\n  }: Sizes = {}): void {\n    this._width = width\n    this._height = height\n\n    this._canvas.width = width\n    this._canvas.height = height\n\n    this.updateBoundaries({\n      right: width,\n      bottom: height\n    })\n  }\n\n  updateBoundaries(boundaries: Partial<BoundariesOptions>): void {\n    this._boundaries = { ...this._boundaries, ...boundaries }\n  }\n\n  private useMouse(event: MouseEvent, is: boolean): void {\n    if (this._mouse.click || this._mouse.move) {\n      this._mx = event.pageX - this._canvas.offsetLeft\n      this._my = event.pageY - this._canvas.offsetTop\n      this._m = is\n    }\n  }\n\n  private render(): void {\n    if (!this._ctx || !this._running) return\n\n    requestAnimationFrame(() => this.render())\n\n    this._ctx.globalCompositeOperation = 'destination-out'\n    this._ctx.fillStyle = 'rgba(0, 0, 0, 0.5)'\n    this._ctx.fillRect(0, 0, this._width, this._height)\n    this._ctx.globalCompositeOperation = 'lighter'\n\n    this.initTrace()\n    this.drawTrace()\n    this.drawExplosion()\n\n    this._tick++\n  }\n\n  private initTrace() {\n    this._ds = randomInteger(this._delay.min, this._delay.max)\n\n    if (\n      this._ds * 2 < this._tick ||\n      this._m && this._mouse.max > this._traces.length\n    ) {\n      this._traces.push(new Trace(\n        this._width * 0.5,\n        this._height,\n        this._m || this._mouse.move ? this._mx : randomInteger(this._boundaries.left, this._boundaries.right - 50),\n        this._m || this._mouse.move ? this._my : randomInteger(this._boundaries.top, this._boundaries.bottom * 0.5),\n        this._ctx,\n        randomInteger(this._hue.min, this._hue.max),\n        this._speed,\n        this._acceleration,\n        this._traceLength\n      ))\n\n      this._tick = 0\n    }\n  }\n\n  private drawTrace() {\n    let length = this._traces.length\n\n    while (length--) {\n      this._traces[length].draw()\n      this._traces[length].update((x: number, y: number, hue: number) => {\n        this.initExplosion(x, y, hue)\n        this._sound.play()\n        this._traces.splice(length, 1)\n      })\n    }\n  }\n\n  private initExplosion(x: number, y: number, hue: number) {\n    let count = this._particleCount\n\n    while (count--) {\n      this._explosions.push(new Explosion(\n        x,\n        y,\n        this._ctx,\n        hue,\n        this._friction,\n        this._gravity,\n        this._explosionLength\n      ))\n    }\n  }\n\n  private drawExplosion() {\n    let length = this._explosions.length\n\n    while (length--) {\n      this._explosions[length].draw()\n      this._explosions[length].update(() => {\n        this._explosions.splice(length, 1)\n      })\n    }\n  }\n}\n\nexport { Fireworks, FireworksOptions, MouseOptions, BoundariesOptions, SoundOptions }","import { randomInteger } from './utils'\n\nexport class Trace {\n  private _x: number\n  private _y: number\n  private _sx: number\n  private _sy: number\n  private _dx: number\n  private _dy: number\n  private _ctx: CanvasRenderingContext2D\n  private _hue: number\n  private _speed: number\n  private _acceleration: number\n  private _traceLength: number\n\n  private _totalDistance: number\n  private _currentDistance = 0\n  private _coordinates: [number, number][] = []\n  private _angle: number\n  private _brightness: number\n\n  constructor(\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number,\n    ctx: CanvasRenderingContext2D,\n    hue: number,\n    speed: number,\n    acceleration: number,\n    trace: number\n  ) {\n    this._x = x1\n    this._y = y1\n    this._sx = x1\n    this._sy = y1\n    this._dx = x2\n    this._dy = y2\n    this._ctx = ctx\n    this._hue = hue\n    this._speed = speed\n    this._acceleration = acceleration\n    this._traceLength = trace\n\n    this._totalDistance = this.getDistance(this._sx, this._sy, this._dx, this._dy)\n\n    while (this._traceLength--) {\n      this._coordinates.push([x1, y1])\n    }\n\n    this._angle = Math.atan2(this._dy - this._sy, this._dx - this._sx)\n    this._brightness = randomInteger(50, 70)\n  }\n\n  update(callback: (x: number, y: number, hue: number) => void): void {\n    this._coordinates.pop()\n    this._coordinates.unshift([this._x, this._y])\n    this._speed *= this._acceleration\n\n    const vx = Math.cos(this._angle) * this._speed\n    const vy = Math.sin(this._angle) * this._speed\n\n    this._currentDistance = this.getDistance(this._sx, this._sy, this._x + vx, this._y + vy)\n\n    if (this._currentDistance >= this._totalDistance) {\n      callback(this._dx, this._dy, this._hue)\n    } else {\n      this._x += vx\n      this._y += vy\n    }\n  }\n\n  draw(): void {\n    const last = this._coordinates.length - 1\n\n    this._ctx.beginPath()\n    this._ctx.moveTo(this._coordinates[last][0], this._coordinates[last][1])\n    this._ctx.lineTo(this._x, this._y)\n    this._ctx.strokeStyle = `hsl(${this._hue}, 100%, ${this._brightness}%)`\n    this._ctx.stroke()\n  }\n\n  private getDistance(x1: number, y1: number, x2: number, y2: number) {\n    const pow = Math.pow\n    return Math.sqrt(pow(x1 - x2, 2) + pow(y1 - y2, 2))\n  }\n}","/**\n * \n * @param min\n * @param max\n */\nexport function randomFloat(min: number, max: number) {\n  return Math.random() * (max - min) + min\n}","/**\n * \n * @param min\n * @param max\n */\nexport function randomInteger(min: number, max: number) {\n  return Math.floor(min + Math.random() * (max + 1 - min))\n}","import { SoundOptions } from './fireworks'\nimport { randomInteger, randomFloat } from './utils'\n\nexport class Sound {\n  public options: Required<SoundOptions>\n  private _buffer: AudioBuffer[] = []\n  private _audioContext = new AudioContext()\n\n  constructor(options: SoundOptions | undefined) {\n    this.options = {\n      enable: false,\n      files: [\n        'explosion0.mp3',\n        'explosion1.mp3',\n        'explosion2.mp3'\n      ],\n      volume: {\n        min: 4,\n        max: 8\n      },\n      ...options\n    }\n\n    if (this.options.enable) {\n      this.load()\n    }\n  }\n\n  private async load(): Promise<void> {\n    for (const file of this.options.files) {\n      const response = await (\n        await fetch(file)\n      ).arrayBuffer()\n\n      this._audioContext.decodeAudioData(response, (buffer: AudioBuffer) => {\n        this._buffer.push(buffer)\n      })\n    }\n  }\n\n  async play(): Promise<void> {\n    if (this.options.enable) {\n      if (this._buffer.length) {\n        const source = this._audioContext.createBufferSource()\n        const buffer = this._buffer[randomInteger(0, this._buffer.length - 1)]\n        const volume = this._audioContext.createGain()\n\n        source.buffer = buffer\n        volume.gain.value = randomFloat(this.options.volume.min / 100, this.options.volume.max / 100)\n        volume.connect(this._audioContext.destination)\n        source.connect(volume)\n        source.start(0)\n      } else {\n        await this.load()\n      }\n    }\n  }\n}","import { randomFloat, randomInteger } from './utils'\n\nexport class Explosion {\n  private _x: number\n  private _y: number\n  private _ctx: CanvasRenderingContext2D\n  private _coordinates: [number, number][] = []\n  private _explosionLength: number\n  private _angle: number\n  private _speed: number\n  private _friction: number\n  private _gravity: number\n  private _hue: number\n  private _brightness: number\n  private _alpha = 1\n  private _decay: number\n\n  constructor(\n    x: number,\n    y: number,\n    ctx: CanvasRenderingContext2D,\n    hue: number,\n    friction: number,\n    gravity: number,\n    explosion: number\n  ) {\n    this._x = x\n    this._y = y\n    this._ctx = ctx\n    this._hue = hue\n    this._friction = friction\n    this._gravity = gravity\n    this._explosionLength = explosion\n\n    while (this._explosionLength--) {\n      this._coordinates.push([x, y])\n    }\n\n    this._angle = randomFloat(0, Math.PI * 2)\n    this._speed = randomInteger(1, 10)\n    this._hue = randomInteger(this._hue - 20, this._hue + 20)\n    this._brightness = randomInteger(50, 80)\n    this._decay = randomFloat(0.015, 0.03)\n  }\n\n  update(callback: () => void): void {\n    this._coordinates.pop()\n    this._coordinates.unshift([this._x, this._y])\n    this._speed *= this._friction\n    this._x += Math.cos(this._angle) * this._speed\n    this._y += Math.sin(this._angle) * this._speed + this._gravity\n    this._alpha -= this._decay\n\n    if (this._alpha <= this._decay) {\n      callback()\n    }\n  }\n\n  draw(): void {\n    const last = this._coordinates.length - 1\n\n    this._ctx.beginPath()\n    // experimental\n    // this._ctx.arc(this._x, this._y, 1, 0, Math.PI * 2)\n    this._ctx.moveTo(this._coordinates[last][0], this._coordinates[last][1])\n    this._ctx.lineTo(this._x, this._y)\n    this._ctx.strokeStyle = `hsla(${this._hue}, 100%, ${this._brightness}%, ${this._alpha})`\n    this._ctx.stroke()\n  }\n}"],"sourceRoot":""}